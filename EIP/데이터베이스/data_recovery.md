# 데이터 회복(Data Recovery)
## 데이터 회복이란?
- 데이터베이스 운영 중에 예기치 못한 장애(Failure)가 발생할 경우, 데이터베이스를 장애 발생 이전의 일관된 상태(Consistent state) 로 복원시키는 것이다.

## 회복 기법의 종류
![](http://www.jidum.com/upload/ckeditor/2016/07/20160725143647680.png)

1. 지연 갱신 회복 기법
- 트랜잭션이 부분 완료 상태에 이르기까지 발생한 모든 변경 내용을 로그 파일에만 저장하고, 데이터베이스에는 Commit이 발생할 때까지 저장을 지연하는 기법

2. 즉시 갱신 회복 기법
- 트랜잭션 수행 도중 데이터를 변경하면 변경 정보를 로그 파일에 저장하고, 트랜잭션이 부분 완료되기 전이라도 모든 변경 내용을 즉시 데이터베이스에 반영하는 기법

3. 체크 포인트 회복 기법
- 트랜잭션 수행 중 발생하는 변경 내용을 로그 파일에 기록하고 일정 기간 단위로 체크포인트를 생성하여 수행
- 회복 시 로그 파일의 정보를 모두 검사해야 하고, 이미 디스크에 반영된 변경에 대해 불필요한 REDO 연산을 수행해야 하는 로그 기반 회복 기법의 문제점을 해결하기 위함
- 장애 발생 시에 체크 포인트 이전에 처리된 트랜잭션들은 회복 대상에서 제이되고, 체크 포인트 이후에 처리된 트랜잭션에 대해서만 회복 작업을 시행

4. 그림자 페이징(Shadow Paging) 회복 기법
- 트랜잭션이 실행되는 동안 2개의 페이지 테이블(즉, 현재 페이지 테이블과 그림자 페이지 테이블)을 유지 및 관리하는 회복 기법
- 데이터베이스를 일정 크기의 블록인 페이지 단위로 유지하고, 로그를 이용하지 않음.

# Reference
https://middleware.tistory.com/entry/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%ED%9A%8C%EB%B3%B5%EA%B8%B0%EB%B2%95
http://www.jidum.com/jidums/view.do?jidumId=201